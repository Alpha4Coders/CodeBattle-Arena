<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ Arena - CODIGO</title>
    <link rel="stylesheet" href="Cpp.css">
    <link rel="shortcut icon" href="c-.png" type="image/x-icon">
</head>
<body>
    <nav class="navbar">
        <div class="logo">C++ Arena</div>
        <ul class="nav-links">
            <li><a href="../HomePage/codigo.html">Home</a></li>
            <li><a href="#assignments">Challenges</a></li>
            <li><a href="#leaderboard">Leaderboard</a></li>
        </ul>
    </nav>

    <main class="container">
        <section class="assignments" id="assignments">
            <h2>Coding Challenges</h2>
            <div class="difficulty-selection">
                <button class="difficulty-btn" onclick="showChallenges('beginner')">Beginner</button>
                <button class="difficulty-btn" onclick="showChallenges('intermediate')">Intermediate</button>
                <button class="difficulty-btn" onclick="showChallenges('expert')">Expert</button>
            </div>
            
            <div id="challenge-container">
                <!-- Challenges will be displayed dynamically here -->
            </div>
        </section>
    </main>

    <div id="coding-page" class="hidden">
        <h1>Code Compiler</h1>
        <div class="compiler-container">
            <div class="editor-section">
                <h3>Write Your Code</h3>
                <textarea id="code-editor" placeholder="Enter your CPP code here..."></textarea>
            </div>
            <div class="input-output-section">
                <button id="run-btn" class="practice-btn" onclick="runCode()">Run Code</button>
                <div id="output-container" class="hidden">
                    <h3>Output</h3>
                    <div id="output-box" class="output-display"></div>
                </div>
                <div id="input-container" class="hidden">
                    <h3>Input</h3>
                    <textarea id="input-box" placeholder="Enter input here..."></textarea>
                </div>
            </div>
        </div>
    </div>

    <script>
        const challenges = {
            beginner: [
                { title: "Basic Input/Output", description: "Write a program that takes a user's name and age as input and prints a greeting message.", link: "cComp.html?assignment=basic_io" },
                { title: "Simple Calculator", description: "Create a basic calculator that performs addition, subtraction, multiplication, and division.", link: "cComp.html?assignment=calculator" }
            ],
            intermediate: [
                { title: "Array Manipulation", description: "Implement a program that takes an array of integers and returns the sum of all even numbers.", link: "cComp.html?assignment=array_sum" },
                { title: "String Reversal", description: "Write a program that reverses a given string without using built-in functions.", link: "cComp.html?assignment=string_reverse" }
            ],
            expert: [
                { title: "Dynamic Memory Allocation", description: "Write a program that dynamically allocates memory for an array of n integers, fills it with user input, and sorts it in ascending order.", link: "cComp.html?assignment=memory_alloc" },
                { title: "Multi-threading in C", description: "Implement a program that creates multiple threads, each performing a different mathematical operation on shared data.", link: "cComp.html?assignment=multi_threading" }
            ]
        };

        function showChallenges(level) {
            const container = document.getElementById("challenge-container");
            container.innerHTML = "";
            
            challenges[level].forEach(challenge => {
                const challengeBox = document.createElement("div");
                challengeBox.classList.add("assignment-box");
                challengeBox.innerHTML = `
                    <h3>${challenge.title}</h3>
                    <p>${challenge.description}</p>
                    <button class="solve-btn" onclick="openCompiler('${challenge.link}')">Solve Now</button>
                `;
                container.appendChild(challengeBox);
            });
        }

        function openCompiler(assignment) {
            document.getElementById("coding-page").classList.remove("hidden");
            document.getElementById("code-editor").value = "";
            document.getElementById("output-container").classList.add("hidden");
            document.getElementById("input-container").classList.add("hidden");
        }

        function runCode() {
            const code = document.getElementById("code-editor").value;
            document.getElementById("output-container").classList.remove("hidden");
            document.getElementById("output-box").innerText = "Running code...";

            // fetch("https://api.jdoodle.com/v1/execute", {
            //     method: "POST",
            //     headers: { "Content-Type": "application/json" },
            //     body: JSON.stringify({
            //         clientId: "916b3ab17648b336fdd89829184f0a3d",
            //         clientSecret: "71a21e71d1edcefe870f80e7e7b444c845b88944e669244441726f65f5419ed6",
            //         script: code,
            //         language: "c",
            //         versionIndex: "0"
            //     })
            // })
            // .then(response => response.json())
            // .then(data => {
            //     document.getElementById("output-box").innerText = data.output;
            //     if (!data.error) {
            //         document.getElementById("input-container").classList.remove("hidden");
            //     }
            // })
            // .catch(error => {
            //     document.getElementById("output-box").innerText = "Error running code!";
            //     console.error("Error:", error);
            // });
        }
    </script>
    
    <style>
        .hidden { display: none; }
        .compiler-container { margin-top: 20px; padding: 20px; border: 1px solid #ccc; border-radius: 5px; }
        textarea { width: 100%; height: 100px; margin-bottom: 10px; }
        .solve-btn { cursor: pointer; padding: 10px; background-color: #007bff; color: #fff; border: none; border-radius: 5px; }
        .solve-btn:hover { background-color: #0056b3; }
    </style>
</body>
</html>
